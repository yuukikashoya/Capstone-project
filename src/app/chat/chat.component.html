
<h1 class="mint">Chat</h1>
<div class="container"  *ngIf="this.typeid == '0'">


    <section class="chatbox">
      <div class="solo">
      </div>
      <span class="badge">Admin</span>
        <section class="chat-window "  #chatWindow>
          <div *ngFor="let z of chats | async;let i = index">
          <article class="msg-container msg-remote" id="msg-0"  *ngIf= "z && false != z.admin ">
            <div class="msg-box">
              <img class="user-img" id="user-0" src="//gravatar.com/avatar/00034587632094500000000000000000?d=retro" />
              <div class="flr">
                <div class="messages">
                  <p class="msg" id="msg-0">
                   {{z.chat}}
                  </p>
                
            
                </div>
                <span class="timestamp"><span class="username text-white" style="font-weight: bold;">{{z.username}}</span>&bull;

                <span class="posttime" >{{z.timesent}}</span>

              </span>
              </div>
            </div>
          </article>
          <article class="msg-container msg-self" id="msg-0"*ngIf= "z && false == z.admin">
            <div class="msg-box">
              <div class="flr">
                <div class="messages">
                  <p class="msg" id="msg-1">
                    {{z.chat}}
                  </p>

                </div>
                <span class="timestamp"><span class="username text-white" style="font-weight: bold;">{{z.username}}</span>&bull;

                <span class="posttime" >{{z.timesent}}</span>

              </span>
              </div>
              <img class="user-img" id="user-0" src="//gravatar.com/avatar/56234674574535734573000000000001?d=retro" />
            </div>
          </article>
        </div>
        </section>
        <form class="chat-input" #sending="ngForm" (ngSubmit)="sendchat(sending.value)"  >
        
          <input type="text"  placeholder="Type a message" name="chat" [(ngModel)]="chat"  >
          <button type="submit">
                        <svg style="width:24px;height:24px" viewBox="0 0 24 24"><path fill="rgba(0,0,0,.38)" d="M17,12L12,17V14H8V10H12V7L17,12M21,16.5C21,16.88 20.79,17.21 20.47,17.38L12.57,21.82C12.41,21.94 12.21,22 12,22C11.79,22 11.59,21.94 11.43,21.82L3.53,17.38C3.21,17.21 3,16.88 3,16.5V7.5C3,7.12 3.21,6.79 3.53,6.62L11.43,2.18C11.59,2.06 11.79,2 12,2C12.21,2 12.41,2.06 12.57,2.18L20.47,6.62C20.79,6.79 21,7.12 21,7.5V16.5M12,4.15L5,8.09V15.91L12,19.85L19,15.91V8.09L12,4.15Z" /></svg>
                    </button>
        </form>
      </section>
  </div>



<div class="container" *ngIf="this.typeid == '1'">

  <div class="d-flex" >
    <div class="">
      <div  class="marginator adminchatlist jumbotron jumbotron-fluid ayokona text-center scrollable">
        <h1  class="text-center">Users</h1>  
        <br>
  <div *ngFor="let a of chatlist | async;">
    <div  *ngIf= "a" >
      <div style="background-color: rgb(31, 31, 151); color: white;">
      <h2 (click)="getchat(a) " style="cursor: pointer;text-align: center; font-weight: bold;" *ngIf="a.username == currentuserchat">{{a.username}}</h2> 
      </div>
      <h2 (click)="getchat(a) " style="cursor: pointer;text-align: center;"  *ngIf="a.username != currentuserchat">{{a.username}}</h2>       
      <hr class="under-h1">
     

    </div>

  </div>

</div>


</div>
<div class="container" style="margin-top: 0;">


<section class="chatbox"#scrollframe>
<span class="badge">{{currentuserchat}}</span>
<span class="badge" *ngIf="!currentuserchat">Select a User</span>
<section class="chat-window " #chatWindow >
        
  
  <div *ngFor="let z of chats | async;let i = index">
  <article class="msg-container msg-remote" id="msg-0"  *ngIf= "z && this.admin != z.admin ">
    <div class="msg-box">
      <img class="user-img" id="user-0" src="//gravatar.com/avatar/00034587632094500000000000000000?d=retro" />
      <div class="flr">
        <div class="messages">
          <p class="msg" id="msg-0">
           {{z.chat}}
          </p>
        
    
        </div>
        <span class="timestamp"><span class="username text-white" style="font-weight: bold;">{{z.username}}</span>&bull;

        <span class="posttime" >{{z.timesent}}</span>

      </span>
      </div>
    </div>
  </article>
  <article class="msg-container msg-self" id="msg-0"*ngIf= "z && this.admin == z.admin">
    <div class="msg-box">
      <div class="flr">
        <div class="messages">
          <p class="msg" id="msg-1">
            {{z.chat}}
          </p>

        </div>
        <span class="timestamp"><span class="username text-white" style="font-weight: bold;">{{z.username}}</span>&bull;

        <span class="posttime" >{{z.timesent}}</span>

      </span>
      </div>
      <img class="user-img" id="user-0" src="//gravatar.com/avatar/56234674574535734573000000000001?d=retro" />
    </div>
  </article>

</div>
</section>
<form class="chat-input" #sending="ngForm" (ngSubmit)="adminsendchat(sending.value)"  *ngIf="currentuserchat">

  <input type="text"  placeholder="Type a message" name="chat" [(ngModel)]="chat"  >
  <button type="submit">
                <svg style="width:24px;height:24px" viewBox="0 0 24 24"><path fill="rgba(0,0,0,.38)" d="M17,12L12,17V14H8V10H12V7L17,12M21,16.5C21,16.88 20.79,17.21 20.47,17.38L12.57,21.82C12.41,21.94 12.21,22 12,22C11.79,22 11.59,21.94 11.43,21.82L3.53,17.38C3.21,17.21 3,16.88 3,16.5V7.5C3,7.12 3.21,6.79 3.53,6.62L11.43,2.18C11.59,2.06 11.79,2 12,2C12.21,2 12.41,2.06 12.57,2.18L20.47,6.62C20.79,6.79 21,7.12 21,7.5V16.5M12,4.15L5,8.09V15.91L12,19.85L19,15.91V8.09L12,4.15Z" /></svg>
            </button>
</form>
</section>

</div>
</div>
</div>
