<div class="vv">
   
   <h2 class="title">Sales Management</h2>
    <br>
    <div class="text-center" *ngIf="graphshow">

      <button  class="btn btn-primary umm" style="margin-right: 28px;" (click)="printtoday()">Print Today's sales</button>
          <button class="btn btn-primary umm" style="margin-right: 28px;" (click)="edittime()">Update Pricing</button>
         <button class="btn btn-primary umm" (click)="tabletime()">Show sales history</button>         
    </div> 
  
  <div class="text-center" *ngIf="table">
    <button class="btn btn-primary umm" (click)="closetable()">Go Back</button>
  </div>
  
  <div class="kk">
  <hr>


    <h2 class="title1"> Here are your Point of Sales</h2><br>

    <div class="container" *ngIf="graphshow">

    <div class="d-flex cc">
        <div class="card">
            <div class="arrow">
               <!-- date-picker.component.html -->


                <div class="number"> <input type="date" [(ngModel)]="currentDate" (change)="onDateSelected()" class="custom-date-input"></div>
               
            </div>
                 <h2>Daily Sales and Transact</h2>
            <div  *ngFor="let q of daily | async;">
             <div  *ngIf= "q && getFormattedDate() == q.currentday">
       
            <p><strong>Sales:</strong> ₱{{q.income}}</p>
            <p><strong>Transact:</strong> {{q.sales}}</p>
            <p><strong>Gcash:</strong> {{q.gcash}} <strong>Sales:</strong> ₱{{q.gsales}}</p>
            <p><strong>Cash:</strong> {{q.cash}} <strong>Sales:</strong> ₱{{q.csales}}</p>
              </div>
            </div>
        </div>
    <div class="card">
      <div class="arrow">
      <div class=" number">
        <input type="date" style="width: 50%;" (change)="ondatestart()" [(ngModel)]="startday" class="custom-date-input">
         <input type="date" style="width:50%;" (change)="ondateend    ()" [(ngModel)]="endday"class="custom-date-input"></div>
         <button class="btn btn-secondary text-white" (click)="looper()">Calculate</button></div>

             <h2>Weekly Income and Transact</h2>
        <div >
         <div>
   
          <p><strong>Sales:</strong> ₱{{totalsales}}</p>
          <p><strong>Transact:</strong> {{totaltransac}}</p>
          <p><strong>Gcash:</strong> {{gcount}} -<strong>Sales:</strong> ₱{{totalgcash}}</p>
          <p><strong>Cash:</strong> {{ccount}} <strong>Sales:</strong> ₱{{totalcash}}</p>
          </div>
        </div>
    </div>

</div>

</div>
<hr>
</div>
<div class="container"  *ngIf="graphshow">
    <app-sales-graph></app-sales-graph>
</div>
<div class="container"  *ngIf="editshow">



    <form>
      <h2 style="color: black; text-align: center; font-size: 30px;">UPDATE PRICING</h2>
       <input type="number" name="pricing" [(ngModel)]="defultkilo"><div class ="textt">Kilo per pack</div><br>
       <input type="number" name="kilo" [(ngModel)]="defultpricing"><div class="textt">Php per pack</div><br>
        <button class="btn btn-primary" style="background-color: green; color: white;" type="button" (click)="updatepricing()">Update</button>
        <button class="btn btn-danger" type="button" (click)="cacel()">Cancel</button>
    </form>

</div>

<div class="container" *ngIf="table">

    <div class="jumbotron  table-responsive scrollable"  >
        <h3> <span class="">Logs</span>  </h3>
        <table class="table table-bordered ">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Client Username</th>  
           

          

                <th scope="col">Time & Date</th>


         <th scope="col">Transac by</th>  
                <th scope="col">Payed Amount</th>
                               
           

              </tr>
            </thead>
            <tbody *ngFor="let z of logs | async;">
              <tr  *ngIf= "z">
                <th scope="row">{{z.transacitonid}}</th>
                <td>{{z.username}}</td>    
                         

      

                <td>{{z.time +" "+ z.date}}</td>


    
            

                <td>{{z.transacby}}</td>
          <td>{{"+"+z.payed}}</td>

              </tr>
     
            </tbody>
            
          </table>
    </div>
</div>
</div>